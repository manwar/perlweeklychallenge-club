# For up to date code:
# https://github.com/codereport/bqn-code/blob/main/pwc/323-2.bqn

u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
fn â‡ â€¢Import "/home/cph/bqn-code/lib/fun.bqn"

TaxAmount â† {
    b â† fn.Deltas 0âˆ¾ğ•¨âŒŠâŠ‘Â¨ğ•© # brackets
    t â† 100Ã·ËœâŠ¢Â´Â¨ğ•©         # tax rates
    +Â´bÃ—t
}

TaxAmount2 â† +Â´(100Ã·ËœâŠ¢Â´Â¨)âˆ˜âŠ¢Ã—(fn.Deltas 0âˆ¾âŒŠâŸœâŠ‘Â¨)

# Tests
u.UnitTest (10 TaxAmount  âŸ¨3â€¿50, 7â€¿10, 12â€¿25âŸ©) â‰¡ 2.65
u.UnitTest ( 2 TaxAmount  âŸ¨1â€¿0, 4â€¿25, 5â€¿50âŸ©)   â‰¡ 0.25
u.UnitTest ( 0 TaxAmount  âŸ¨2â€¿50âŸ©)              â‰¡ 0
u.UnitTest (10 TaxAmount2 âŸ¨3â€¿50, 7â€¿10, 12â€¿25âŸ©) â‰¡ 2.65
u.UnitTest ( 2 TaxAmount2 âŸ¨1â€¿0, 4â€¿25, 5â€¿50âŸ©)   â‰¡ 0.25
u.UnitTest ( 0 TaxAmount2 âŸ¨2â€¿50âŸ©)              â‰¡ 0
