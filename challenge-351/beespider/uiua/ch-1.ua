# uiua 0.17.3
SpecialAverage ← ÷⊃(↥₁⧻)/+ ▽ × ⊸∩⌟≠ ⊸⊃/↧/↥

┌─╴test
  ⍤⤙≍ 5250 SpecialAverage [8000 5000 6000 2000 3000 7000]
  ⍤⤙≍ 95000 SpecialAverage [100000 80000 110000 90000]
  ⍤⤙≍ 0 SpecialAverage [2500 2500 2500 2500]
  ⍤⤙≍ 0 SpecialAverage [2000]
  ⍤⤙≍ 3500 SpecialAverage [1000 2000 3000 4000 5000 6000]
└─╴
