# For up to date code:
# https://github.com/codereport/bqn-code/blob/main/pwc/353-2.bqn

u â‡ â€¢Import "/home/cph/bqn-test/test.bqn"

chars â† '_'âˆ¾('0'+â†•10)âˆ¾â¥Š"aA"+âŒœâ†•26
cats  â† "electronics"â€¿"restaurant"â€¿"pharmacy"â€¿"grocery"
IsValidCode â† Ã—âˆ˜â‰ âˆ§Â·âˆ§Â´âˆŠâŸœchars
IsValidCategory â† âˆŠâŸœcats
ValidateCoupon â† { ğ•Šcodesâ€¿namesâ€¿status:
    a â† IsValidCodeÂ¨codes
    b â† âŠ‘IsValidCategoryÂ¨names
    c â† âŠ‘status
    aâˆ§bâˆ§c
}

# Tests
u.UnitTest (ValidateCoupon âŸ¨"A123", "B_456", "C789", "D@1", "E123"âŸ©â€¿âŸ¨"electronics"â€¿"restaurant"â€¿"electronics"â€¿"pharmacy"â€¿"grocery"âŸ©â€¿âŸ¨1â€¿0â€¿1â€¿1â€¿1âŸ©) â‰¡ âŸ¨1, 0, 1, 0, 1âŸ©
u.UnitTest (ValidateCoupon âŸ¨"Z_9", "AB_12", "G01", "X99", "test"âŸ©â€¿âŸ¨"pharmacy"â€¿"electronics"â€¿"grocery"â€¿"electronics"â€¿"unknown"âŸ©â€¿âŸ¨1â€¿1â€¿0â€¿1â€¿1âŸ©) â‰¡ âŸ¨1, 1, 0, 1, 0âŸ©
u.UnitTest (ValidateCoupon âŸ¨"_123", "123", "", "Coupon_A", "Alpha"âŸ©â€¿âŸ¨"restaurant"â€¿"electronics"â€¿"electronics"â€¿"pharmacy"â€¿"grocery"âŸ©â€¿âŸ¨1â€¿1â€¿0â€¿1â€¿1âŸ©) â‰¡ âŸ¨1, 1, 0, 1, 1âŸ©
u.UnitTest (ValidateCoupon âŸ¨"ITEM_1", "ITEM_2", "ITEM_3", "ITEM_4"âŸ©â€¿âŸ¨"electronics"â€¿"electronics"â€¿"grocery"â€¿"grocery"âŸ©â€¿âŸ¨1â€¿1â€¿1â€¿1âŸ©) â‰¡ âŸ¨1, 1, 1, 1âŸ©
u.UnitTest (ValidateCoupon âŸ¨"CAFE_X", "ELEC_100", "FOOD_1", "DRUG_A", "ELEC_99"âŸ©â€¿âŸ¨"restaurant"â€¿"electronics"â€¿"grocery"â€¿"pharmacy"â€¿"electronics"âŸ©â€¿âŸ¨1â€¿1â€¿1â€¿1â€¿0âŸ©) â‰¡ âŸ¨1, 1, 1, 1, 0âŸ©
