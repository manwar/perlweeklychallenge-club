# For up to date code:
# https://github.com/codereport/bqn-code/blob/main/pwc/339-1.bqn

u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
fn â‡ â€¢Import "/home/cph/bqn-code/lib/fun.bqn"

MaxProductDiff  â† { âŒˆÂ´{ ğ•Šaâ€¿bâ€¿câ€¿d: (aÃ—b)-cÃ—d }Â¨4 fn.ChooseWR ğ•© } # solution 1
MaxProductDiff2 â† { âŒˆÂ´{ -Â´Ã—Ë2â€¿2â¥Šğ•© }Â¨4 fn.ChooseWR ğ•© }           # solution 2 (explicit)
MaxProductDiff3 â† âŒˆÂ´Â·(-Â´Â·Ã—Ë2â€¿2âŠ¸â¥Š)Â¨4âŠ¸fn.ChooseWR                 # solution 3 (tacit)

# Tests
u.UnitTest (MaxProductDiff âŸ¨5, 9, 3, 4, 6âŸ©)   â‰¡ 42
u.UnitTest (MaxProductDiff âŸ¨1, Â¯2, 3, Â¯4âŸ©)    â‰¡ 10
u.UnitTest (MaxProductDiff âŸ¨Â¯3, Â¯1, Â¯2, Â¯4âŸ©)  â‰¡ 10
u.UnitTest (MaxProductDiff âŸ¨10, 2, 0, 5, 1âŸ©)  â‰¡ 50
u.UnitTest (MaxProductDiff âŸ¨7, 8, 9, 10, 10âŸ©) â‰¡ 44

u.UnitTest (MaxProductDiff2 âŸ¨5, 9, 3, 4, 6âŸ©)   â‰¡ 42
u.UnitTest (MaxProductDiff2 âŸ¨1, Â¯2, 3, Â¯4âŸ©)    â‰¡ 10
u.UnitTest (MaxProductDiff2 âŸ¨Â¯3, Â¯1, Â¯2, Â¯4âŸ©)  â‰¡ 10
u.UnitTest (MaxProductDiff2 âŸ¨10, 2, 0, 5, 1âŸ©)  â‰¡ 50
u.UnitTest (MaxProductDiff2 âŸ¨7, 8, 9, 10, 10âŸ©) â‰¡ 44

u.UnitTest (MaxProductDiff3 âŸ¨5, 9, 3, 4, 6âŸ©)   â‰¡ 42
u.UnitTest (MaxProductDiff3 âŸ¨1, Â¯2, 3, Â¯4âŸ©)    â‰¡ 10
u.UnitTest (MaxProductDiff3 âŸ¨Â¯3, Â¯1, Â¯2, Â¯4âŸ©)  â‰¡ 10
u.UnitTest (MaxProductDiff3 âŸ¨10, 2, 0, 5, 1âŸ©)  â‰¡ 50
u.UnitTest (MaxProductDiff3 âŸ¨7, 8, 9, 10, 10âŸ©) â‰¡ 44
