# For up to date code:
# https://github.com/codereport/bqn-code/blob/main/pwc/336-2.bqn

u â‡ â€¢Import "/home/cph/bqn-test/test.bqn"

Step â† { x ğ•Š nums: {
    xâ‰¡"C" ? 1â†“nums ;
    xâ‰¡"D" ? ( 2Ã—âŠ‘nums)âˆ¾nums ;
    xâ‰¡"+" ? (+Â´2â†‘nums)âˆ¾nums ;
    (â€¢BQN x)âˆ¾nums }
}

FinalScore â† { +Â´(â‹ˆâ€¢BQN âŠ‘ğ•©) StepÂ´ âŒ½1â†“ğ•© }

# Tests
u.UnitTest (FinalScore âŸ¨"5","2","C","D","+"âŸ©)                          â‰¡ 30
u.UnitTest (FinalScore âŸ¨"5","-2","4","C","D","9","+","+"âŸ©)             â‰¡ 27
u.UnitTest (FinalScore âŸ¨"7","D","D","C","+","3"âŸ©)                      â‰¡ 45
u.UnitTest (FinalScore âŸ¨"-5","-10","+","D","C","+"âŸ©)                   â‰¡ Â¯55
u.UnitTest (FinalScore âŸ¨"3","6","+","D","C","8","+","D","-2","C","+"âŸ©) â‰¡ 128
