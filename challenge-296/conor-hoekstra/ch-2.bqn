# For up to date code:
# https://github.com/codereport/bqn-code/blob/main/pwc/296-2.bqn

Bfs â† { ğ•Štâ€¿nâ€¿sâ€¿l: {
    4=n       ? 1 ;
    t=s       ? Bfs âŸ¨t,n+1,0,lâŸ© ;
    0=â‰ l      ? 0 ;
    0=âˆ¨Â´tâ‰¥s+l ? 0 ;
    m â† âˆŠâŠ¸âˆ§tâ‰¥s+l
    Bfs âŸ¨t,n,s+âŠ‘m/l,l/ËœÂ¬mâŸ©
}}

IsMatchstickSquare â† {
    0â‰ 4|+Â´ğ•© ? 0 ;
    Bfs âŸ¨4Ã·Ëœ+Â´ğ•©,0,0,âˆ¨ğ•©âŸ©
}

# Tests
â€¢Show IsMatchstickSquare âŸ¨1, 2, 2, 2, 1âŸ©    # 1
â€¢Show IsMatchstickSquare âŸ¨2, 2, 2, 4âŸ©       # 0
â€¢Show IsMatchstickSquare âŸ¨2, 2, 2, 2, 4âŸ©    # 0
â€¢Show IsMatchstickSquare âŸ¨3, 4, 1, 4, 3, 1âŸ© # 1
