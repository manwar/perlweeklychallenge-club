# For up to date code:
# https://github.com/codereport/bqn-code/blob/main/pwc/335-2.bqn

u â‡ â€¢Import "/home/cph/bqn-test/test.bqn"


# New Code
wins  â† 8â€¿3â¥Š0â€¿4â€¿8â€¿0â€¿1â€¿2â€¿3â€¿4â€¿5â€¿6â€¿7â€¿8â€¿0â€¿3â€¿6â€¿1â€¿4â€¿7â€¿2â€¿5â€¿8â€¿2â€¿4â€¿6
Play  â† { ğ•¨âŒ¾(ğ•©âŠ¸âŠ‘)9â¥Š0 }
Pos   â† { +Â´3â€¿1Ã—ğ•© }
State â† { âˆ§Â´â‰1âŸ¨1,2âŸ©=âŒœwinsâŠğ•© }
FindWinner â† {
    x â† +Â´1â€¿2Ã—+Â´Ë˜State âŒˆÂ´{ ğ•Špâ€¿ab: ab Play Pos p }Â¨ğ•©â‹ˆÂ¨1â€¿2â¥ŠËœâ‰ ğ•©
    (1+x-9=â‰ ğ•©)âŠ‘âŸ¨"Draw","Pending","A","B"âŸ©
}

# Tests
u.UnitTest (FindWinner âŸ¨0â€¿0,2â€¿0,1â€¿1,2â€¿1,2â€¿2âŸ©) â‰¡ "A"
u.UnitTest (FindWinner âŸ¨0â€¿0,1â€¿1,0â€¿1,0â€¿2,1â€¿0,2â€¿0âŸ©) â‰¡ "B"
u.UnitTest (FindWinner âŸ¨0â€¿0,1â€¿1,2â€¿0,1â€¿0,1â€¿2,2â€¿1,0â€¿1,0â€¿2,2â€¿2âŸ©) â‰¡ "Draw"
u.UnitTest (FindWinner âŸ¨0â€¿0,1â€¿1âŸ©) â‰¡ "Pending"
u.UnitTest (FindWinner âŸ¨1â€¿1,0â€¿0,2â€¿2,0â€¿1,1â€¿0,0â€¿2âŸ©) â‰¡ "B"
