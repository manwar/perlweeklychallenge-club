# For up to date code:
# https://github.com/codereport/bqn-code/blob/main/pwc/290-2.bqn

âŸ¨DigitsâŸ© â‡ â€¢Import "../lib/binary.bqn"

Luhn â† {
    d â† â€¢BQNâˆ˜â¥ŠÂ¨ğ•© # digits
    p â† âŠ‘âŒ½xs     # payload
    m â† 1+2|â†•â‰ ğ•©  # mask
    p=10-10|+Â´âˆ¾DigitsÂ¨Â¯1â†“mÃ—xs
}

# Tests
â€¢Show Luhn "17893729974"      # 1
â€¢Show Luhn "4137894711755904" # 1 ğŸ¤” something wrong here
â€¢Show Luhn "4137897411755904" # 0 ğŸ¤” something wrong here
